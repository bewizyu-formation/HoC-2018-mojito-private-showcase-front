<form [formGroup]="form"
      (ngSubmit)="login(form.value)"
      class="formgroup-form" >

    <!--TITRE-->
    <h3>Formulaire de connexion</h3>


    <div formGroupName="user"
         class="formgroup-user" >

        <mat-error *ngIf="form.errors">L'email ou le mot de passe est invalide</mat-error>

            <!--IDENTIFIANT-->
            <mat-form-field class="form-email">
              <input formControlName="email" matInput
                     placeholder="Email" type="email"
                     required>
              <mat-hint>Entrer votre adresse mail</mat-hint>

              <!--gestion des erreurs du login-->
              <mat-error *ngIf="email.touched && email.invalid">
                <mat-error *ngIf="email.invalid">Le format du mail n'est pas valide.</mat-error>
                <mat-error *ngIf="email.hasError('required')">Ce champs est requis.</mat-error>
              </mat-error>
            </mat-form-field>


            <!--MOT DE PASSE-->
            <mat-form-field class="form-password">
              <input formControlName="password" matInput
                     placeholder="Mot de passe"
                     [type]="hidePassword ? 'password' : 'text'"
                     required>

              <!--icone oeil-->
              <mat-icon matSuffix
                        (click)="hidePassword = !hidePassword">
                {{hidePassword ? 'visibility_off' : 'visibility'}}
              </mat-icon>
              <mat-hint>Entrer votre mot de passe</mat-hint>

              <!--gestion des erreurs du password-->
              <mat-error *ngIf="password.hasError('required')">Ce champs est requis.</mat-error>
              <mat-error *ngIf="password.hasError('minlength') || password.hasError('maxlength') || password.hasError('pattern')">
                Le mots de passe doit avoir :
                <li>Au minimum {{ passMinLength }} et au maximum {{ passMaxLength }} caract√®res.</li>
                <li>Au moins une majuscule et au moins une minuscule.</li>
              </mat-error>
          </mat-form-field>
          <!--BOUTONS VALIDER ANNULER-->
          <div class="btn">
            <button class="color-annuler" mat-raised-button>Annuler</button>
            <button class="color-valider" mat-raised-button [disabled]="!form.valid">Valider</button>
          </div>

    </div>

</form>





